(function(e){function t(t){for(var r,o,a=t[0],i=t[1],u=t[2],b=0,p=[];b<a.length;b++)o=a[b],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==s[i]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},s={app:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),s={class:"container mt-5"},c=Object(r["e"])("h1",{class:"text-center"},"聊天室功能",-1);function o(e,t){var n=Object(r["u"])("router-view");return Object(r["p"])(),Object(r["d"])("div",s,[c,Object(r["f"])(n)])}const a={};a.render=o;var i=a,u=n("6c02");function l(e,t,n,s,c,o){var a=Object(r["u"])("chatArea");return Object(r["p"])(),Object(r["d"])("div",null,[Object(r["f"])(a)])}var b={class:"row"},p={class:"col-8"},d={class:"chat-banner mt-3"},f={class:"chat-area"},j={key:0},O=Object(r["e"])("img",{src:"",alt:"",class:"photo-sticker mx-3"},null,-1),g={class:"d-inline-block"},m={class:"d-block"},h={class:"chat-content d-block p-2"},v={key:1},y={class:"d-inline-block"},k={class:"d-block"},w={class:"chat-content d-block p-2"},x=Object(r["e"])("img",{src:"",alt:"",class:"photo-sticker mx-3"},null,-1),C={class:"chat-bottom"},V={class:"col-4"},P={class:"reg-area mt-3"},S=Object(r["e"])("p",{class:"text-center reg-title"},"申請使用者",-1);function U(e,t,n,s,c,o){return Object(r["p"])(),Object(r["d"])("div",b,[Object(r["e"])("div",p,[Object(r["e"])("div",d,[Object(r["e"])("div",f,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["t"])(c.msgs,(function(t){return Object(r["p"])(),Object(r["d"])("div",{class:Object(r["l"])(["mt-3",[t.username===e.$cookies.VueCookies.get("user")?"me":"other"]]),key:t},[t.username!==e.$cookies.VueCookies.get("user")?(Object(r["p"])(),Object(r["d"])("div",j,[O,Object(r["e"])("div",g,[Object(r["e"])("strong",m,Object(r["w"])(t.username),1),Object(r["e"])("p",h,Object(r["w"])(t.message),1)])])):(Object(r["p"])(),Object(r["d"])("div",v,[Object(r["e"])("div",y,[Object(r["e"])("strong",k,Object(r["w"])(t.username),1),Object(r["e"])("p",w,Object(r["w"])(t.message),1)]),x]))],2)})),128))]),Object(r["e"])("div",C,[Object(r["A"])(Object(r["e"])("input",{type:"text",class:"chat-iuput","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.msg=e}),onKeyup:t[1]||(t[1]=Object(r["B"])((function(){return o.send&&o.send.apply(o,arguments)}),["enter"]))},null,544),[[r["y"],c.msg]]),Object(r["e"])("input",{type:"button",class:"btn btn-outline-danger chat-btn",value:"送出",onClick:t[2]||(t[2]=function(){return o.send&&o.send.apply(o,arguments)})})])])]),Object(r["e"])("div",V,[Object(r["e"])("div",P,[S,Object(r["A"])(Object(r["e"])("input",{type:"text",class:"reg-input","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.register=e}),onKeyup:t[4]||(t[4]=Object(r["B"])((function(){return o.registerFn&&o.registerFn.apply(o,arguments)}),["enter"]))},null,544),[[r["y"],c.register]]),Object(r["e"])("input",{type:"button",value:"確定申請",class:"btn btn-outline-success mt-3",onClick:t[5]||(t[5]=function(){return o.registerFn&&o.registerFn.apply(o,arguments)})})])])])}n("498a"),n("159b");var $={apiKey:"AIzaSyDaG4UUCo5XohKqIt-7Dd02G3mwX3jjVzQ",authDomain:"chat-room-faf3d.firebaseapp.com",projectId:"chat-room-faf3d",storageBucket:"chat-room-faf3d.appspot.com",messagingSenderId:"386398409723",appId:"1:386398409723:web:f838bff0f48064fae7715e",measurementId:"G-8DB5BYER1Q"},A=firebase.initializeApp($),I=A,M={data:function(){return{msg:"",message:"",msgs:{},otherMsgs:[],ownMsgs:[],register:"",users:{},addUser:!1}},created:function(){var e=this,t=I.database(),n=t.ref("messages"),r=t.ref("users/user");n.on("value",(function(t){e.msgs=t.val()})),r.on("value",(function(e){console.log(e.val())}))},methods:{send:function(){var e=this,t=I.database(),n=t.ref("messages");this.msg.trim()&&this.$cookies.VueCookies.get("user")?n.push({time:(new Date).getTime(),username:this.$cookies.VueCookies.get("user"),message:this.msg}).then((function(t){console.log(t),e.msg=""})):alert("請檢查是否有登入或有無輸入訊息")},registerFn:function(){var e=this,t=I.database(),n=t.ref("users");this.$cookies.VueCookies.set("user",this.register),n.once("value",(function(t){t.forEach((function(t){if(t.val().user===e.$cookies.VueCookies.get("user"))return e.addUser=!0}))})),console.log(this.addUser)}}};M.render=U;var _=M,B={components:{chatArea:_}};B.render=l;var D=B,F=[{path:"/",name:"Home",component:D}],K=Object(u["a"])({history:Object(u["b"])(),routes:F}),z=K,G=(n("ce50"),n("2b27")),T=n.n(G),E=Object(r["c"])(i);E.config.globalProperties.$cookies={VueCookies:T.a},E.use(z),E.mount("#app")},ce50:function(e,t,n){}});
//# sourceMappingURL=app.f42e5d2e.js.map